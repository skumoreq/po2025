<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<?import javafx.scene.text.Text?>

<BorderPane xmlns="http://javafx.com/javafx"
            xmlns:fx="http://javafx.com/fxml"
            fx:controller="com.github.skumoreq.simulator.gui.PrimaryController"
            fx:id="primaryRoot"
            prefWidth="1200" prefHeight="800"
            stylesheets="@stylesheets/styles.css">

  <top>
    <StackPane>
      <padding>
        <Insets top="10" right="10" left="370"/>
      </padding>

      <HBox prefHeight="40"
            alignment="CENTER"
            styleClass="top-bar">
        <Region prefWidth="15"/>

        <HBox spacing="5"
              alignment="CENTER">
          <Label text="Numer rejestracyjny"/>
          <ComboBox fx:id="carSelection"
                    onAction="#carSelectionOnAction"
                    prefWidth="125"/>
        </HBox>

        <Region prefWidth="30"/>

        <HBox spacing="5"
              alignment="CENTER">
          <Button onAction="#addCarOnAction"
                  prefWidth="125"
                  text="â–¶ Dodaj auto"/>
          <Button fx:id="deleteCar"
                  onAction="#deleteCarOnAction"
                  prefWidth="125"
                  text="â–¶ UsuÅ„ auto"/>
        </HBox>

        <Region HBox.hgrow="ALWAYS"/>

        <MenuButton fx:id="options"
                    focusTraversable="false">
          <graphic>
            <Region styleClass="gear-icon"/>
          </graphic>
          <items>
            <CustomMenuItem hideOnClick="false">
              <content>
                <HBox spacing="5"
                      alignment="CENTER">
                  <CheckBox fx:id="reverseScroll"
                            styleClass="toggle-switch"/>
                  <Label text="Tryb Touchpada">
                    <graphic>
                      <Text text="ðŸ›ˆ" styleClass="info-icon"/>
                    </graphic>
                    <tooltip>
                      <Tooltip text="ZmieÅ„ kierunek dodawania gazu, jeÅ›li uÅ¼ywasz&#10;Touchpada z wÅ‚Ä…czonym przewijaniem naturalnym."/>
                    </tooltip>
                  </Label>
                </HBox>
              </content>
            </CustomMenuItem>
            <SeparatorMenuItem/>
            <CustomMenuItem hideOnClick="false">
              <content>
                <HBox spacing="5"
                      alignment="CENTER">
                  <CheckBox fx:id="useDarkTheme"
                            styleClass="toggle-switch"/>
                  <Label text="Ciemny motyw"/>
                </HBox>
              </content>
            </CustomMenuItem>
          </items>
        </MenuButton>

      </HBox>
    </StackPane>
  </top>

  <left>
    <VBox spacing="5"
          alignment="CENTER">
      <padding>
        <Insets left="10"/>
      </padding>

      <TitledPane fx:id="carSection"
                  maxWidth="350"
                  focusTraversable="false">
        <graphic>
          <HBox prefWidth="330" prefHeight="25"
                alignment="CENTER">
            <Label text="Wybrany samochÃ³d"/>
            <Region HBox.hgrow="ALWAYS"/>
            <TextField fx:id="carModelName"
                       prefWidth="200"
                       disable="true"/>
          </HBox>
        </graphic>

        <GridPane hgap="10" vgap="5">
          <columnConstraints>
            <ColumnConstraints percentWidth="40"
                               halignment="RIGHT"/>
            <ColumnConstraints percentWidth="60"/>
          </columnConstraints>

          <Label GridPane.rowIndex="0" GridPane.columnIndex="0"
                 text="Masa caÅ‚kowita"/>
          <TextField fx:id="carTotalWeight"
                     GridPane.rowIndex="0" GridPane.columnIndex="1"
                     disable="true"/>

          <Label GridPane.rowIndex="1" GridPane.columnIndex="0"
                 text="Cena caÅ‚kowita"/>
          <TextField fx:id="carTotalPrice"
                     GridPane.rowIndex="1" GridPane.columnIndex="1"
                     disable="true"/>

          <Label GridPane.rowIndex="2" GridPane.columnIndex="0"
                 text="Stan silnika"/>
          <TextField fx:id="carEngineState"
                     GridPane.rowIndex="2" GridPane.columnIndex="1"
                     disable="true"/>

          <Label GridPane.rowIndex="3" GridPane.columnIndex="0"
                 text="Aktualna prÄ™dkoÅ›Ä‡"/>
          <TextField fx:id="carSpeed"
                     GridPane.rowIndex="3" GridPane.columnIndex="1"
                     disable="true"/>

          <HBox maxWidth="330"
                spacing="5"
                GridPane.rowIndex="4" GridPane.columnIndex="0" GridPane.columnSpan="2">
            <Region HBox.hgrow="ALWAYS"/>
            <Button onAction="#startEngineOnAction"
                    prefWidth="100"
                    text="â–¶ Odpal">
              <tooltip>
                <Tooltip text="âŒ¨ NaciÅ›nij klawisz R."/>
              </tooltip>
            </Button>
            <Button onAction="#stopEngineOnAction"
                    prefWidth="100"
                    text="â–¶ ZgaÅ›">
              <tooltip>
                <Tooltip text="âŒ¨ NaciÅ›nij klawisz F."/>
              </tooltip>
            </Button>
            <Region HBox.hgrow="ALWAYS"/>
          </HBox>
        </GridPane>
      </TitledPane>

      <TitledPane fx:id="clutchSection"
                  maxWidth="350"
                  focusTraversable="false">
        <graphic>
          <HBox prefWidth="330" prefHeight="25"
                alignment="CENTER">
            <Label text="SprzÄ™gÅ‚o"/>
            <Region HBox.hgrow="ALWAYS"/>
            <TextField fx:id="clutchName"
                       prefWidth="200"
                       disable="true"/>
          </HBox>
        </graphic>

        <GridPane hgap="10" vgap="5">
          <columnConstraints>
            <ColumnConstraints percentWidth="40"
                               halignment="RIGHT"/>
            <ColumnConstraints percentWidth="60"/>
          </columnConstraints>

          <Label GridPane.rowIndex="0" GridPane.columnIndex="0"
                 text="Masa czÄ™Å›ci"/>
          <TextField fx:id="clutchWeight"
                     GridPane.rowIndex="0" GridPane.columnIndex="1"
                     disable="true"/>

          <Label GridPane.rowIndex="1" GridPane.columnIndex="0"
                 text="Cena czÄ™Å›ci"/>
          <TextField fx:id="clutchPrice"
                     GridPane.rowIndex="1" GridPane.columnIndex="1"
                     disable="true"/>

          <Label GridPane.rowIndex="2" GridPane.columnIndex="0"
                 text="Stan mechaniczny"/>
          <TextField fx:id="clutchState"
                     GridPane.rowIndex="2" GridPane.columnIndex="1"
                     disable="true"/>

          <HBox maxWidth="330"
                spacing="5"
                GridPane.rowIndex="3" GridPane.columnIndex="0" GridPane.columnSpan="2">
            <Region HBox.hgrow="ALWAYS"/>
            <Button onAction="#pressClutchOnAction"
                    prefWidth="100"
                    text="â–¶ NaciÅ›nij">
              <tooltip>
                <Tooltip text="âŒ¨ Przytrzymaj SpacjÄ™&#10;lub ðŸ–± Lewy Przycisk Myszy."/>
              </tooltip>
            </Button>
            <Button onAction="#releaseClutchOnAction"
                    prefWidth="100"
                    text="â–¶ Zwolnij">
              <tooltip>
                <Tooltip text="âŒ¨ PuÅ›Ä‡ SpacjÄ™&#10;lub ðŸ–± Lewy Przycisk Myszy"/>
              </tooltip>
            </Button>
            <Region HBox.hgrow="ALWAYS"/>
          </HBox>
        </GridPane>
      </TitledPane>

      <TitledPane fx:id="transmissionSection"
                  maxWidth="350"
                  focusTraversable="false">
        <graphic>
          <HBox prefWidth="330" prefHeight="25"
                alignment="CENTER">
            <Label text="Skrzynia biegÃ³w"/>
            <Region HBox.hgrow="ALWAYS"/>
            <TextField fx:id="transmissionName"
                       prefWidth="200"
                       disable="true"/>
          </HBox>
        </graphic>

        <GridPane hgap="10" vgap="5">
          <columnConstraints>
            <ColumnConstraints percentWidth="40"
                               halignment="RIGHT"/>
            <ColumnConstraints percentWidth="60"/>
          </columnConstraints>

          <Label GridPane.rowIndex="0" GridPane.columnIndex="0"
                 text="Masa czÄ™Å›ci"/>
          <TextField fx:id="transmissionWeight"
                     GridPane.rowIndex="0" GridPane.columnIndex="1"
                     disable="true"/>

          <Label GridPane.rowIndex="1" GridPane.columnIndex="0"
                 text="Cena czÄ™Å›ci"/>
          <TextField fx:id="transmissionPrice"
                     GridPane.rowIndex="1" GridPane.columnIndex="1"
                     disable="true"/>

          <Label GridPane.rowIndex="2" GridPane.columnIndex="0"
                 text="Wrzucony bieg"/>
          <TextField fx:id="transmissionGear"
                     GridPane.rowIndex="2" GridPane.columnIndex="1"
                     disable="true"/>

          <HBox maxWidth="330"
                spacing="5"
                GridPane.rowIndex="3" GridPane.columnIndex="0" GridPane.columnSpan="2">
            <Region HBox.hgrow="ALWAYS"/>
            <Button onAction="#shiftUpOnAction"
                    prefWidth="125"
                    text="â–¶ ZwiÄ™ksz bieg">
              <tooltip>
                <Tooltip text="âŒ¨ NaciÅ›nij klawisz E&#10;lub ðŸ–± GÃ³rny Przycisk Boczny (M5)"/>
              </tooltip>
            </Button>
            <Button onAction="#shiftDownOnAction"
                    prefWidth="125"
                    text="â–¶ Zmniejsz bieg">
              <tooltip>
                <Tooltip text="âŒ¨ NaciÅ›nij klawisz Q&#10;lub ðŸ–± Dolny Przycisk Boczny (M4)"/>
              </tooltip>
            </Button>
            <Region HBox.hgrow="ALWAYS"/>
          </HBox>
        </GridPane>
      </TitledPane>

      <TitledPane fx:id="engineSection"
                  maxWidth="350"
                  focusTraversable="false">
        <graphic>
          <HBox prefWidth="330" prefHeight="25"
                alignment="CENTER">
            <Label text="Silnik"/>
            <Region HBox.hgrow="ALWAYS"/>
            <TextField fx:id="engineName"
                       prefWidth="200"
                       disable="true"/>
          </HBox>
        </graphic>

        <GridPane hgap="10" vgap="5">
          <columnConstraints>
            <ColumnConstraints percentWidth="40"
                               halignment="RIGHT"/>
            <ColumnConstraints percentWidth="60"/>
          </columnConstraints>

          <Label GridPane.rowIndex="0" GridPane.columnIndex="0"
                 text="Masa czÄ™Å›ci"/>
          <TextField fx:id="engineWeight"
                     GridPane.rowIndex="0" GridPane.columnIndex="1"
                     disable="true"/>

          <Label GridPane.rowIndex="1" GridPane.columnIndex="0"
                 text="Cena czÄ™Å›ci"/>
          <TextField fx:id="enginePrice"
                     GridPane.rowIndex="1" GridPane.columnIndex="1"
                     disable="true"/>

          <Label GridPane.rowIndex="2" GridPane.columnIndex="0"
                 text="Aktualne obroty"/>
          <TextField fx:id="engineRpm"
                     GridPane.rowIndex="2" GridPane.columnIndex="1"
                     disable="true"/>

          <HBox maxWidth="330"
                spacing="5"
                GridPane.rowIndex="3" GridPane.columnIndex="0" GridPane.columnSpan="2">
            <Region HBox.hgrow="ALWAYS"/>
            <Button onAction="#revUpOnAction"
                    prefWidth="125"
                    text="â–¶ Dodaj gazu">
              <tooltip>
                <Tooltip text="ðŸ–± PrzewiÅ„ kÃ³Å‚kiem myszy w gÃ³rÄ™."/>
              </tooltip>
            </Button>
            <Button onAction="#revDownOnAction"
                    prefWidth="125"
                    text="â–¶ Ujmij gazu">
              <tooltip>
                <Tooltip text="ðŸ–± PrzewiÅ„ kÃ³Å‚kiem myszy w dÃ³Å‚."/>
              </tooltip>
            </Button>
            <Region HBox.hgrow="ALWAYS"/>
          </HBox>
        </GridPane>
      </TitledPane>
    </VBox>
  </left>

  <center>
    <StackPane>
      <padding>
        <Insets topRightBottomLeft="10"/>
      </padding>

      <StackPane styleClass="driving-area-background">
        <padding>
          <Insets top="16" right="8" bottom="8" left="8"/>
        </padding>

        <Pane fx:id="drivingArea"
              onKeyPressed="#drivingAreaOnKeyPressed"
              onKeyReleased="#drivingAreaOnKeyReleased"

              onMousePressed="#drivingAreaOnMousePressed"
              onMouseReleased="#drivingAreaOnMouseReleased"

              onScroll="#drivingAreaOnScroll"

              onMouseEntered="#drivingAreaOnMouseEntered"
              onMouseExited="#drivingAreaOnMouseExited"
              onMouseMoved="#drivingAreaOnMouseMoved"
              onMouseDragged="#drivingAreaOnMouseDragged"

              styleClass="driving-area"/>
      </StackPane>

      <Label fx:id="mouseCoords"
             StackPane.alignment="TOP_CENTER"/>
    </StackPane>

  </center>

</BorderPane>
